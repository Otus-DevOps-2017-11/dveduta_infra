## Домашняя работа 08

В файле main.tf с использованием провайдера google описан ресурс "google_compute_instance" c названием "app".

Провайдер google, после описания в файле, однократно подгружается командой

```  
terraform init  
```

Ресурс описывает запуск виртуалки на основе образа reddit-base, созданного в предыдущем домашнем задании.
Размер g1-small
Тег - reddit-app

При запуске в пользователя добавляется публичный ключ из metadata и создается пользователь из первой части значения (dveduta в данном случае)
После запуска виртуалки применяеются два провижинера, которые подключаются с использованием учетной записи с приватным описанных в connection.
Первый провижинер загружает файл с описанием сервиса puma
Второй - выполняет bash-скрипт с клонированием репозитория и настройкой сервиса.

Далее описывается правило файерволла , разрешающее входящие соединения для порта 9292, и применяющееся ко всем вирталкам с тегом reddit-app.

Часть параметров определены в виде переменных, и могут быть изменены в файле terraform.tfvars, пример для которого - terraform.tfvars.example находится в репозитории.

Таким образом, после применения шаблона (terraform apply) получится виртуалка reddit-app  с запущенным приложением. В силу тега reddit-app порт для подключения будет открыт.

Адрес для подключения отобразится после применения шаблона как output переменная app_external_ip.

 * Проверка шаблона - terraform plan
 * Удаление всего, описанного в tf-файлах - terraform destroy
 * Пометить для пересоздания - terrafom taint resource_name
 * Переформатировать шаблоны (== выставить отступы, что очень круто) - terraform fmt
